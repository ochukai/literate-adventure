import{a as m,b as _,p as E,d as v,e as b,f as L,r as l,j as e,H as O,u as P,L as f,M as T,S as I,R as k,h as w,i as A,k as u,U as D,T as C,C as z,l as H,m as $,P as N,n as U,o as V,z as B}from"./vendor-7040fe31.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const M={list:[]},q=t=>({id:Date.now(),name:"",gender:"",age:void 0,dailyClasses:0,classDuration:0,...t}),x=m({name:"students",initialState:M,reducers:{addStudent:(t,s)=>{t.list.push(q(s.payload))},updateStudent:(t,s)=>{const i=t.list.findIndex(d=>d.id===s.payload.id);i!==-1&&(t.list[i]={...t.list[i],...s.payload})},deleteStudent:(t,s)=>{t.list=t.list.filter(i=>i.id!==s.payload)}}}),{addStudent:fe,updateStudent:me,deleteStudent:ye}=x.actions,G=x.reducer,K={list:[]},S=m({name:"teachers",initialState:K,reducers:{addTeacher:(t,s)=>{t.list.push({id:Date.now(),...s.payload})},updateTeacher:(t,s)=>{const i=t.list.findIndex(d=>d.id===s.payload.id);i!==-1&&(t.list[i]=s.payload)},deleteTeacher:(t,s)=>{t.list=t.list.filter(i=>i.id!==s.payload)}}}),{addTeacher:xe,updateTeacher:Se,deleteTeacher:je}=S.actions,F=S.reducer,W={list:[]},j=m({name:"schedule",initialState:W,reducers:{addSchedule:(t,s)=>{t.list.push({id:Date.now(),...s.payload})},updateSchedule:(t,s)=>{const i=t.list.findIndex(d=>d.id===s.payload.id);i!==-1&&(t.list[i]=s.payload)},deleteSchedule:(t,s)=>{t.list=t.list.filter(i=>i.id!==s.payload)}}}),{addSchedule:ge,updateSchedule:Re,deleteSchedule:_e}=j.actions,Y=j.reducer,J={key:"root",storage:L,whitelist:["students","teachers","schedule"]},Q=_({students:G,teachers:F,schedule:Y}),X=E(J,Q),g=v({reducer:X,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/REGISTER"]}})}),Z=b(g);const ee="modulepreload",te=function(t){return"/literate-adventure/"+t},y={},h=function(s,i,d){if(!i||i.length===0)return s();const n=document.getElementsByTagName("link");return Promise.all(i.map(r=>{if(r=te(r),r in y)return;y[r]=!0;const o=r.endsWith(".css"),R=o?'[rel="stylesheet"]':"";if(!!d)for(let c=n.length-1;c>=0;c--){const p=n[c];if(p.href===r&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${R}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":ee,o||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),o)return new Promise((c,p)=>{a.addEventListener("load",c),a.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};const se=l.lazy(()=>h(()=>import("./Home-fe6a7a79.js"),["assets/Home-fe6a7a79.js","assets/vendor-7040fe31.js"])),re=l.lazy(()=>h(()=>import("./Students-43b5559c.js"),["assets/Students-43b5559c.js","assets/vendor-7040fe31.js"])),ie=l.lazy(()=>h(()=>import("./Teachers-c5be90c5.js"),["assets/Teachers-c5be90c5.js","assets/vendor-7040fe31.js"])),ne=l.lazy(()=>h(()=>import("./Schedule-a92a33a7.js"),["assets/Schedule-a92a33a7.js","assets/vendor-7040fe31.js","assets/vendor.exceljs-ff7c3827.js"])),de=l.lazy(()=>h(()=>import("./DataImport-4c49b21d.js"),["assets/DataImport-4c49b21d.js","assets/vendor-7040fe31.js"])),{Header:oe,Content:ae,Sider:le}=f;function ce(){const t=P(),s=[{key:"/",icon:e.jsx(A,{}),label:e.jsx(u,{to:"/",children:"首页"})},{key:"/students",icon:e.jsx(D,{}),label:e.jsx(u,{to:"/students",children:"学生管理"})},{key:"/teachers",icon:e.jsx(C,{}),label:e.jsx(u,{to:"/teachers",children:"教师管理"})},{key:"/schedule",icon:e.jsx(z,{}),label:e.jsx(u,{to:"/schedule",children:"课程排期"})},{key:"/data-import",icon:e.jsx(H,{}),label:e.jsx(u,{to:"/data-import",children:"数据导入"})}],i={"/":e.jsx(se,{}),"/students":e.jsx(re,{}),"/teachers":e.jsx(ie,{}),"/schedule":e.jsx(ne,{}),"/data-import":e.jsx(de,{})};return e.jsxs(f,{style:{minHeight:"100vh"},children:[e.jsx(oe,{style:{display:"flex",alignItems:"center"},children:e.jsx("h1",{style:{color:"#fff",margin:0},children:"系统"})}),e.jsxs(f,{children:[e.jsx(le,{width:200,style:{background:"#fff"},children:e.jsx(T,{mode:"inline",selectedKeys:[t.pathname],style:{height:"100%",borderRight:0},items:s})}),e.jsx(f,{style:{padding:"24px"},children:e.jsx(ae,{style:{padding:24,margin:0,background:"#fff",borderRadius:"4px"},children:e.jsx(l.Suspense,{fallback:e.jsx("div",{style:{textAlign:"center",padding:"50px 0"},children:e.jsx(I,{size:"large",tip:"加载中..."})}),children:e.jsx(k,{children:Object.entries(i).map(([d,n])=>e.jsx(w,{path:d,element:n},d))})})})})]})]})}function ue(){return e.jsx(O,{children:e.jsx(ce,{})})}$(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(N,{store:g,children:e.jsx(U,{loading:null,persistor:Z,children:e.jsx(V,{locale:B,children:e.jsx(ue,{})})})})}));export{fe as a,Se as b,xe as c,ye as d,je as e,Re as f,ge as g,me as u};
