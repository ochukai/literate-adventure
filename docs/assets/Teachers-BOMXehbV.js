import{r as u,m as y,k as T,j as e}from"./vendor.react-rN-pUNOy.js";import{b as k,c as w,e as b}from"./index-I9wQ1uQd.js";import{F as t,d as m,T as C,B as r,e as F,f as I,I as S,h as o,P as v}from"./vendor.antd-csk3Ol5G.js";import"./vendor.other-DSSnOnwO.js";import"./vendor.redux-Ck2zd-1P.js";const{Title:z}=C;function q(){const[a]=t.useForm(),[p,l]=u.useState(!1),[n,x]=u.useState(null),i=y(),d=T(s=>s.teachers.list),j=[{title:"姓名",dataIndex:"name",key:"name"},{title:"性别",dataIndex:"gender",key:"gender",render:s=>s==="male"?"男":"女"},{title:"操作",key:"action",render:(s,h)=>e.jsxs(m,{children:[e.jsx(r,{onClick:()=>c(h),children:"编辑"}),e.jsx(v,{title:"确定删除该教师吗？",onConfirm:()=>g(h.id),okText:"确定",cancelText:"取消",children:e.jsx(r,{danger:!0,children:"删除"})})]})}],c=(s=null)=>{x(s?.id||null),s?a.setFieldsValue(s):a.setFieldsValue({gender:"female"}),l(!0)},f=async()=>{try{const s=await a.validateFields();i(n?k({...s,id:n}):w(s)),l(!1),a.resetFields()}catch{}},g=s=>{i(b(s))};return e.jsxs("div",{children:[e.jsxs(m,{style:{marginBottom:24,justifyContent:"space-between",width:"100%"},children:[e.jsx(z,{level:2,children:"教师管理"}),e.jsx(r,{type:"primary",onClick:()=>c(),children:"添加教师"})]}),e.jsx(F,{columns:j,dataSource:d,rowKey:"id",pagination:{total:d.length,pageSize:10,showTotal:s=>`共 ${s} 条记录`,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"]}}),e.jsx(I,{title:n?"编辑教师":"添加教师",open:p,onOk:f,onCancel:()=>l(!1),maskClosable:!1,children:e.jsxs(t,{form:a,layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},style:{marginTop:24},children:[e.jsx(t.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"请输入姓名"}],children:e.jsx(S,{style:{width:200}})}),e.jsx(t.Item,{name:"gender",label:"性别",rules:[{required:!0,message:"请选择性别"}],children:e.jsxs(o.Group,{children:[e.jsx(o,{value:"male",children:"男"}),e.jsx(o,{value:"female",children:"女"})]})})]})})]})}export{q as default};
