import{r as h,F as a,y as v,q as I,j as e,A as m,B as r,D as f,E as k,I as S,G as s,J as C,K as w,x as F,N as T}from"./vendor-7040fe31.js";import{d as q,u as D,a as E}from"./index-1392f6b1.js";const{Title:z}=F;function B(){const[x,n]=h.useState(!1),[t]=a.useForm(),[i,u]=h.useState(null),d=v(),o=I(l=>l.students.list),p=[{title:"姓名",dataIndex:"name",key:"name"},{title:"性别",dataIndex:"gender",key:"gender",render:l=>l==="male"?"男":"女"},{title:"年龄",dataIndex:"age",key:"age"},{title:"每天上课次数",dataIndex:"dailyClasses",key:"dailyClasses"},{title:"上课时长(分钟)",dataIndex:"classDuration",key:"classDuration"},{title:"操作",key:"action",render:(l,c)=>e.jsxs(m,{children:[e.jsx(r,{onClick:()=>b(c),children:"编辑"}),e.jsx(T,{title:"确定删除该学生吗？",onConfirm:()=>g(c.id),okText:"确定",cancelText:"取消",children:e.jsx(r,{danger:!0,children:"删除"})})]})}],j=()=>{u(null),t.resetFields(),t.setFieldsValue({gender:"male"}),n(!0)},b=l=>{u(l.id),t.setFieldsValue(l),n(!0)},g=l=>{d(q(l))},y=()=>{t.validateFields().then(l=>{d(i?D({...l,id:i}):E(l)),n(!1)})};return e.jsxs("div",{children:[e.jsxs(m,{style:{marginBottom:16,justifyContent:"space-between",width:"100%"},children:[e.jsx(z,{level:2,children:"学生管理"}),e.jsx(r,{type:"primary",onClick:j,children:"添加学生"})]}),e.jsx(f,{columns:p,dataSource:o,rowKey:"id",pagination:{total:o.length,pageSize:10,showTotal:l=>`共 ${l} 条记录`,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"]}}),e.jsx(k,{title:i?"编辑学生":"添加学生",open:x,onOk:y,onCancel:()=>n(!1),maskClosable:!1,width:500,children:e.jsxs(a,{form:t,layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},style:{marginTop:24},children:[e.jsx(a.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"请输入姓名"}],children:e.jsx(S,{style:{width:200}})}),e.jsx(a.Item,{name:"gender",label:"性别",rules:[{required:!0,message:"请选择性别"}],children:e.jsxs(s.Group,{children:[e.jsx(s,{value:"male",children:"男"}),e.jsx(s,{value:"female",children:"女"})]})}),e.jsx(a.Item,{name:"age",label:"年龄",rules:[{required:!0,message:"请输入年龄"}],children:e.jsx(C,{min:3,max:30,style:{width:150},placeholder:"请输入年龄"})}),e.jsx(a.Item,{name:"dailyClasses",label:"每天上课次数",rules:[{required:!0,message:"请选择每天上课次数"}],children:e.jsxs(s.Group,{children:[e.jsx(s,{value:1,children:"1"}),e.jsx(s,{value:2,children:"2"})]})}),e.jsx(a.Item,{name:"classDuration",label:"上课时长",rules:[{required:!0,message:"请选择上课时长"}],children:e.jsx(w,{style:{width:200},placeholder:"请选择上课时长",options:[{value:30,label:"30分钟"},{value:60,label:"60分钟"},{value:90,label:"90分钟"},{value:120,label:"120分钟"},{value:150,label:"150分钟"},{value:180,label:"180分钟"},{value:210,label:"210分钟"},{value:240,label:"240分钟"},{value:270,label:"270分钟"},{value:300,label:"300分钟"},{value:330,label:"330分钟"},{value:360,label:"360分钟"}]})})]})})]})}export{B as default};
