const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Dt5SuRC4.js","assets/vendor.react-rN-pUNOy.js","assets/vendor.other-DSSnOnwO.js","assets/vendor.antd-csk3Ol5G.js","assets/Students--f1jrmqA.js","assets/vendor.redux-Ck2zd-1P.js","assets/Teachers-BOMXehbV.js","assets/Schedule-BTsqdS-O.js","assets/vendor.exceljs-DrG8IHxW.js","assets/DataImport-D0T85v8C.js"])))=>i.map(i=>d[i]);
import{r as u,j as e,H as P,u as I,g as L,h as T,L as f,d as w,P as A,i as D}from"./vendor.react-rN-pUNOy.js";import{L as y,M as O,S as C,C as k,z}from"./vendor.antd-csk3Ol5G.js";import{c as x,a as $}from"./vendor.redux-Ck2zd-1P.js";import{bq as N,bw as H,bx as M,by as V,bz as q,bA as B,bB as U,bC as G,bD as K}from"./vendor.other-DSSnOnwO.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const F={list:[]},W=t=>({id:Date.now(),name:"",gender:"",age:void 0,dailyClasses:0,classDuration:0,...t}),j=x({name:"students",initialState:F,reducers:{addStudent:(t,s)=>{t.list.push(W(s.payload))},updateStudent:(t,s)=>{const r=t.list.findIndex(o=>o.id===s.payload.id);r!==-1&&(t.list[r]={...t.list[r],...s.payload})},deleteStudent:(t,s)=>{t.list=t.list.filter(r=>r.id!==s.payload)}}}),{addStudent:ge,updateStudent:Re,deleteStudent:be}=j.actions,Y=j.reducer,J={list:[]},g=x({name:"teachers",initialState:J,reducers:{addTeacher:(t,s)=>{t.list.push({id:Date.now(),...s.payload})},updateTeacher:(t,s)=>{const r=t.list.findIndex(o=>o.id===s.payload.id);r!==-1&&(t.list[r]=s.payload)},deleteTeacher:(t,s)=>{t.list=t.list.filter(r=>r.id!==s.payload)}}}),{addTeacher:Ee,updateTeacher:_e,deleteTeacher:ve}=g.actions,Q=g.reducer,X={list:[]},R=x({name:"schedule",initialState:X,reducers:{addSchedule:(t,s)=>{t.list.push({id:Date.now(),...s.payload})},updateSchedule:(t,s)=>{const r=t.list.findIndex(o=>o.id===s.payload.id);r!==-1&&(t.list[r]=s.payload)},deleteSchedule:(t,s)=>{t.list=t.list.filter(r=>r.id!==s.payload)}}}),{addSchedule:Pe,updateSchedule:Ie,deleteSchedule:Le}=R.actions,Z=R.reducer,ee={key:"root",storage:V,whitelist:["students","teachers","schedule"]},te=N({students:Y,teachers:Q,schedule:Z}),se=M(ee,te),b=$({reducer:se,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/REGISTER"]}})}),re=H(b),ne="modulepreload",ie=function(t){return"/literate-adventure/"+t},S={},m=function(s,r,o){let n=Promise.resolve();if(r&&r.length>0){let E=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),a=c?.nonce||c?.getAttribute("nonce");n=E(r.map(d=>{if(d=ie(d),d in S)return;S[d]=!0;const p=d.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const l=document.createElement("link");if(l.rel=p?"stylesheet":ne,p||(l.as="script"),l.crossOrigin="",l.href=d,a&&l.setAttribute("nonce",a),document.head.appendChild(l),p)return new Promise((_,v)=>{l.addEventListener("load",_),l.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(c){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=c,window.dispatchEvent(a),!a.defaultPrevented)throw c}return n.then(c=>{for(const a of c||[])a.status==="rejected"&&i(a.reason);return s().catch(i)})},oe=u.lazy(()=>m(()=>import("./Home-Dt5SuRC4.js"),__vite__mapDeps([0,1,2,3]))),ce=u.lazy(()=>m(()=>import("./Students--f1jrmqA.js"),__vite__mapDeps([4,1,2,3,5]))),de=u.lazy(()=>m(()=>import("./Teachers-BOMXehbV.js"),__vite__mapDeps([6,1,2,3,5]))),ae=u.lazy(()=>m(()=>import("./Schedule-BTsqdS-O.js"),__vite__mapDeps([7,1,2,3,8,5]))),le=u.lazy(()=>m(()=>import("./DataImport-D0T85v8C.js"),__vite__mapDeps([9,1,2,3,5]))),{Header:ue,Content:pe,Sider:he}=y;function fe(){const t=I(),s=[{key:"/",icon:e.jsx(q,{}),label:e.jsx(f,{to:"/",children:"首页"})},{key:"/students",icon:e.jsx(B,{}),label:e.jsx(f,{to:"/students",children:"学生管理"})},{key:"/teachers",icon:e.jsx(U,{}),label:e.jsx(f,{to:"/teachers",children:"教师管理"})},{key:"/schedule",icon:e.jsx(G,{}),label:e.jsx(f,{to:"/schedule",children:"课程排期"})},{key:"/data-import",icon:e.jsx(K,{}),label:e.jsx(f,{to:"/data-import",children:"数据导入"})}],r={"/":e.jsx(oe,{}),"/students":e.jsx(ce,{}),"/teachers":e.jsx(de,{}),"/schedule":e.jsx(ae,{}),"/data-import":e.jsx(le,{})};return e.jsxs(y,{style:{minHeight:"100vh"},children:[e.jsx(ue,{style:{display:"flex",alignItems:"center"},children:e.jsx("h1",{style:{color:"#fff",margin:0},children:"系统"})}),e.jsxs(y,{children:[e.jsx(he,{width:200,style:{background:"#fff"},children:e.jsx(O,{mode:"inline",selectedKeys:[t.pathname],style:{height:"100%",borderRight:0},items:s})}),e.jsx(y,{style:{padding:"24px"},children:e.jsx(pe,{style:{padding:24,margin:0,background:"#fff",borderRadius:"4px"},children:e.jsx(u.Suspense,{fallback:e.jsx("div",{style:{textAlign:"center",padding:"50px 0"},children:e.jsx(C,{size:"large",tip:"加载中..."})}),children:e.jsx(L,{children:Object.entries(r).map(([o,n])=>e.jsx(T,{path:o,element:n},o))})})})})]})]})}function me(){return e.jsx(P,{children:e.jsx(fe,{})})}w.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(A,{store:b,children:e.jsx(D,{loading:null,persistor:re,children:e.jsx(k,{locale:z,children:e.jsx(me,{})})})})}));export{ge as a,_e as b,Ee as c,be as d,ve as e,Ie as f,Pe as g,Re as u};
